<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plumage</title>
    <style>
 :root {
 --deep-blue: #1B4B5A;
 }

 body {
 margin: 0;
 padding: 0;
 font-family: "Times New Roman", Times, serif;
 background-color: #fff;
 }

 /* Header styling */
 .header {
 position: relative;
 height: 350px;
 width: 100%;
 overflow: hidden;
 }

 .header-background {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 background-image: url('/images/NewHeaderHorizontal.jpg');
 background-size: 100% 100%;
 background-position: center;
 background-repeat: no-repeat;
 z-index: 1;
 }

 .header h1 {
 color: white;
 font-size: 72px;
 font-family: "Times New Roman", Times, serif;
 position: absolute;
 bottom: 80px;
 left: 40px;
 margin: 0;
 z-index: 2;
 font-weight: normal;
 text-transform: none;
 }

 /* Navigation styling */
 .nav-container {
 position: absolute;
 bottom: 0;
 width: 100%;
 background: linear-gradient(to bottom, rgba(27,75,90,0.8), rgba(27,75,90,1));
 z-index: 2;
 }

 .nav-bar {
 max-width: 1200px;
 margin: 0 auto;
 padding: 15px 20px;
 display: flex;
 justify-content: center;
 align-items: center;
 }

 .nav-bar a {
 color: white;
 text-decoration: none;
 font-size: 16px;
 padding: 0 15px;
 border-right: 1px solid white;
 font-family: "Times New Roman", Times, serif;
 font-weight: normal;
 text-transform: none;
 }

 .nav-bar a:last-child {
 border-right: none;
 }

 .white-line {
 height: 2px;
 background-color: white;
 margin: 0;
 padding: 0;
 }

 .content {
 max-width: 1200px;
 margin: 3rem auto;
 padding: 0 2rem;
 }

 .issue-info {
 text-align: center;
 margin: 2rem 0;
 }

 .issue-info h2 {
 font-family: "Times New Roman", Times, serif;
 font-size: 36px;
 color: var(--deep-blue);
 margin-bottom: 0.5rem;
 font-style: italic;
 font-weight: normal;
 }

 .issue-date {
 font-family: "Times New Roman", Times, serif;
 font-style: italic;
 color: #666;
 font-size: 18px;
 }

 .editor-statement {
 font-family: "Times New Roman", Times, serif;
 font-size: 24px;
 line-height: 1.4;
 color: var(--deep-blue);
 margin: 2rem 0;
 text-align: left;
 max-width: 800px;
 margin: 2rem auto;
 font-weight: normal;
 }

 /* Magazine Viewer Styles */
 .magazine-container {
 width: 100%;
 padding: 2rem 0;
 background-color: #222;
 margin: 2rem 0;
 min-height: 800px;
 }

 .magazine-viewer {
 max-width: 90%;
 height: 90vh;
 margin: 0 auto;
 position: relative;
 overflow: visible;
 padding: 20px;
 }

 .magazine-spread {
 display: flex;
 justify-content: center;
 align-items: center;
 height: 100%;
 transition: transform 0.3s ease;
 gap: 4px;
 }

 .page {
 background: white;
 box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
 height: 100%;
 max-height: calc(90vh - 100px);
 width: auto;
 display: flex;
 justify-content: center;
 align-items: center;
 margin: 0 10px;
 }

 .page-content {
 height: 100%;
 width: 100%;
 display: flex;
 justify-content: center;
 align-items: center;
 padding : 20px
 }

 .page-content canvas {
 max-height: 100%;
 max-width: 100%;
 object-fit: contain;
 }

 .magazine-controls {
 position: fixed;
 bottom: 20px;
 left: 50%;
 transform: translateX(-50%);
 display: flex;
 justify-content: center;
 align-items: center;
 gap: 1rem;
 padding: 1rem 2rem;
 background: rgba(0, 0, 0, 0.8);
 border-radius: 50px;
 z-index: 1000;
 }

 .control-btn {
 background: transparent;
 border: none;
 color: white;
 padding: 0.5rem;
 cursor: pointer;
 border-radius: 50%;
 transition: background-color 0.2s;
 }

 .control-btn:hover {
 background-color: rgba(255, 255, 255, 0.1);
 }

 .control-btn:disabled {
 color: #666;
 cursor: not-allowed;
 }

 .spread-counter {
 color: white;
 font-size: 0.875rem;
 }

 .zoomed {
 transform: scale(1.5);
 transform-origin: center;
 cursor: move;
 }

 /* Features Grid */
 .features-grid {
 display: grid;
 grid-template-columns: repeat(2, 1fr);
 gap: 2rem;
 margin-top: 2rem;
 }

 .feature-card {
 position: relative;
 background: #fff;
 padding: 1rem;
 }

 .feature-card img {
 width: 100%;
 height: 300px;
 object-fit: cover;
 }

 .feature-card h3 {
 font-family: "Times New Roman", Times, serif;
 margin: 1rem 0;
 font-size: 24px;
 color: var(--deep-blue);
 font-weight: normal;
 }

 .feature-card h4 {
 font-family: "Times New Roman", Times, serif;
 font-size: 20px;
 color: var(--deep-blue);
 margin: 0.5rem 0;
 font-weight: normal;
 }

 .feature-card p {
 font-family: "Times New Roman", Times, serif;
 font-style: italic;
 color: #333;
 margin: 0.5rem 0;
 font-size: 16px;
 }
 </style>
</head>
<body>
<header class="header">
    <div class="header-background"></div>
    <h1>Plumage</h1>
    <div class="nav-container">
        <nav class="nav-bar">
            <a href="/">Home</a>
            <a href="/about.html">About</a>
            <a href="https://vip.gatech.edu/teams/vwx">Contact us</a>
            <a href="/subscribe.html">Subscribe</a>
            <a href="/contributors.html">Contributors</a>
        </nav>
    </div>
</header>
<div class="white-line"></div>

<main class="content">
    <div class="issue-info">
        <h2>Le Cygne / The Swan</h2>
        <div class="issue-date">Issue 01 • December 2024</div>
    </div>
    <div class="magazine-container">
        <div class="magazine-viewer">
            <div class="magazine-spread" id="magazineSpread">
                <!-- Pages will be loaded here -->
            </div>
            <div class="magazine-controls">
                <button class="control-btn" id="prevBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <span class="spread-counter">Spread <span id="currentSpread">1</span> of <span id="totalSpreads">3</span></span>
                <button class="control-btn" id="nextBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6" />
                    </svg>
                </button>
                <button class="control-btn" id="zoomBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="zoomIcon">
                        <circle cx="11" cy="11" r="8" />
                        <path d="M21 21l-4.35-4.35" />
                        <path d="M11 8v6M8 11h6" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <div class="features-grid">
        <div class="feature-card">
            <img src="/images/pexels-ramaketu-670237.jpg" alt="Wings of Inspiration">
            <h3>Overview: Wings of Inspiration</h3>
            <p>By Stéphanie Boulard</p>
        </div>

        <div class="feature-card">
            <img src="/images/Swan pic Webpage_Bird of the Month.jpg" alt="Bird of the Month">
            <h3>Bird of the Month</h3>
            <p>By Collin Agarwal and Karen Zheng</p>
        </div>

        <div class="feature-card">
            <img src="/images/Victor_Hugo pic_Webpage_Stories.jpg" alt="The Swan Stories">
            <h3>The Swan Stories</h3>
            <p>By Baudelaire and Victor Hugo</p>
        </div>

        <div class="feature-card">
            <img src="/images/leda-and-the-swan pic_Webpage_Arts.jpg" alt="Leda and the Swan">
            <h3>Art: A Special Section</h3>
            <h4>Leda and the Swan in the Arts</h4>
            <p>By Ella Newell</p>
        </div>

        <div class="feature-card">
            <img src="/images/swan pic_webpage_Interview.jpg" alt="Lover of Birds">
            <h3>Ornithology</h3>
            <h4>An interview with a lover of birds</h4>
            <p>By Stéphanie Boulard</p>
        </div>

        <div class="feature-card">
            <img src="/images/Swan pic_for Meme-comic.jpeg" alt="Swan Meme">
            <h3>Swan Meme</h3>
            <p>By Karen Zheng</p>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
 pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

 document.addEventListener('DOMContentLoaded', function() {
 const spread = document.getElementById('magazineSpread');
 const prevBtn = document.getElementById('prevBtn');
 const nextBtn = document.getElementById('nextBtn');
 const zoomBtn = document.getElementById('zoomBtn');
 const currentSpreadElement = document.getElementById('currentSpread');
 const totalSpreadsElement = document.getElementById('totalSpreads');
 const zoomIcon = document.getElementById('zoomIcon');

 let currentSpread = 1;
 let isZoomed = false;
 let isDragging = false;
 let startPosition = { x: 0, y: 0 };
 let currentPosition = { x: 0, y: 0 };

 pdfjsLib.getDocument('/assets/Plumage Issue No1 Le Cygne_The Swan.pdf').promise.then(function(pdf) {
 const totalSpreads = Math.ceil(pdf.numPages / 2);
 totalSpreadsElement.textContent = totalSpreads;

 async function loadSpread(spreadNum) {
 const startPage = (spreadNum - 1) * 2 + 1;
 spread.innerHTML = '';

 for (let i = 0; i < 2; i++) {
 const pageNum = startPage + i;
 if (pageNum <= pdf.numPages) {
 const page = await pdf.getPage(pageNum);
 const viewport = page.getViewport({ scale: 1.0 });
 const containerHeight = spread.clientHeight;
 const baseScale = 2.0;
 const scale = ((containerHeight - 40) / viewport.height) * baseScale;

 const scaledViewport = page.getViewport({ scale });
 const canvas = document.createElement('canvas');
 const context = canvas.getContext('2d');

 canvas.width = scaledViewport.width;
 canvas.height = scaledViewport.height;

 await page.render({
 canvasContext: context,
 viewport: scaledViewport
 }).promise;

 const pageDiv = document.createElement('div');
 pageDiv.className = 'page';
 const contentDiv = document.createElement('div');
 contentDiv.className = 'page-content';
 contentDiv.appendChild(canvas);
 pageDiv.appendChild(contentDiv);
 spread.appendChild(pageDiv);
 }
 }
 }

 spread.addEventListener('mousedown', (e) => {
 if (isZoomed) {
 isDragging = true;
 startPosition = {
 x: e.clientX - currentPosition.x,
 x: e.clientX - currentPosition.x,
 y: e.clientY - currentPosition.y
 };
 spread.style.cursor = 'grabbing';
 }
 });

 document.addEventListener('mousemove', (e) => {
 if (isDragging && isZoomed) {
 currentPosition = {
 x: e.clientX - startPosition.x,
 y: e.clientY - startPosition.y
 };
 spread.style.transform = `scale(1.5) translate(${currentPosition.x}px, ${currentPosition.y}px)`;
 }
 });

 document.addEventListener('mouseup', () => {
 isDragging = false;
 spread.style.cursor = isZoomed ? 'move' : 'default';
 });

 function updateSpreadCounter() {
 currentSpreadElement.textContent = currentSpread;
 prevBtn.disabled = currentSpread === 1;
 nextBtn.disabled = currentSpread === totalSpreads;
 }

 prevBtn.addEventListener('click', () => {
 if (currentSpread > 1) {
 currentSpread--;
 loadSpread(currentSpread);
 updateSpreadCounter();
 }
 });

 nextBtn.addEventListener('click', () => {
 if (currentSpread < totalSpreads) {
 currentSpread++;
 loadSpread(currentSpread);
 updateSpreadCounter();
 }
 });

 zoomBtn.addEventListener('click', () => {
 isZoomed = !isZoomed;
 if (isZoomed) {
 spread.style.transform = 'scale(1.5)';
 currentPosition = { x: 0, y: 0 };
 } else {
 spread.style.transform = 'scale(1)';
 }
 spread.style.cursor = isZoomed ? 'move' : 'default';

 zoomIcon.innerHTML = isZoomed ? `
 <circle cx="11" cy="11" r="8" />
 <path d="M21 21l-4.35-4.35" />
 <path d="M11 8v6" />
 ` : `
 <circle cx="11" cy="11" r="8" />
 <path d="M21 21l-4.35-4.35" />
 <path d="M11 8v6M8 11h6" />
 `;
 });
 loadSpread(currentSpread);
 updateSpreadCounter();
 });
 });
 </script>
</body>
</html>